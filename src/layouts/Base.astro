---
import '../styles/global.css';
---

<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self';
                 script-src 'self' 'sha256-z4sY036K0MlfAh6ujaBD7GvWaDJ5x5XoDsznq7H4/U0=' 'sha256-Kg3THSfNe2VgwELAQ4K3J4Qr1LUQ4nwM/N08Nv98DVk=';
                 style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
                 font-src https://fonts.gstatic.com;
                 connect-src 'self' https://avishj.github.io https://api.allorigins.win;
                 img-src 'self' data:;">
  <title>Forex Radar: One stop solution to tracking Visa / Master Card exchange rates.</title>
  <meta name="description" content="Track historical Visa and Mastercard exchange rates with real markup percentages. See what you're actually paying when you swipe abroad.">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">

</head>

<body>
  <slot />

  <!-- Notification Container -->
  <div id="notification-container"></div>

  <!-- Theme Script (inline to prevent flash) -->
  <script is:inline>
    const savedTheme = localStorage.getItem('theme');
    // Default to dark mode if no saved preference
    if (savedTheme !== 'light') {
      document.documentElement.classList.add('dark');
      document.documentElement.classList.remove('light');
    } else {
      document.documentElement.classList.add('light');
      document.documentElement.classList.remove('dark');
    }
  </script>

  <!-- Load Scripts -->
  <script>
    import '../scripts/theme.js';
    import '../scripts/animations.js';
    import '../scripts/app.js';
  </script>
</body>

</html>
